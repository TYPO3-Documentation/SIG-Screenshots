<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Screenshots" />
<f:section name="Content">
    <h1>TYPO3 Screenshots :: Make</h1>
    <f:form method="post" action="make">
        <div class="row pt-2 pb-3">
            <div class="col-12 col-xl-4 col-lg-6 col-md-8" id="screenshotsPathContainer">
                <label for="screenshotsPath" class="form-label">Run screenshots.json of path</label>
                <f:form.select
                    id="screenshotsPath"
                    name="pathFilter"
                    options="{configurations}"
                    prependOptionLabel="All"
                    prependOptionValue=""
                    optionValueField="path"
                    optionLabelField="filePath"
                    value="{pathFilter}"
                    sortByOptionLabel="true"
                    class="form-select"
                />
            </div>
        </div>

        <div>
            <f:form.button name="cmd" value="make" type="submit" class="btn btn-warning">
                Make screenshots
            </f:form.button>
        </div>

        <h2>Result</h2>
        <f:if condition="{messages}">
            <f:then>
                <f:render partial="Messages" arguments="{messages:messages}" />
            </f:then>
            <f:else>
                <f:be.infobox state="-2">
                    Nothing done yet. Click button "Make screenshots" to start the runner.
                </f:be.infobox>
            </f:else>
        </f:if>

        <f:if condition="{outputHtml}">
            <h2>Details</h2>
            <div>
                <pre style="background-color: black;"><f:format.htmlentitiesDecode>{outputHtml}</f:format.htmlentitiesDecode></pre>
            </div>
        </f:if>
    </f:form>
</f:section>
</html>
